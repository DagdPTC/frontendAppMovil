<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Orderly - Reservas</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="css/styles.css" />
  <link rel="stylesheet" href="css/reservations.css">
  <style>
    .mesa-btn-selected {
      background-color: #3b82f6;
      color: white;
    }
  </style>
</head>

<body class="bg-gray-50 font-sans">

  <div
    class="w-full md:w-full lg:w-full mx-auto min-h-screen bg-white shadow-lg overflow-hidden relative flex flex-col">

    <!-- Barra superior -->
    <nav class="bg-blue-500 text-white p-4 nav-shadow rounded-b-xl">
      <div class="flex items-center space-x-3">
        <i class="fas fa-calendar-alt text-2xl"></i>
        <h1 class="text-lg font-semibold">Reservas</h1>
      </div>
    </nav>

    <main class="p-4 pb-24 flex-1 overflow-y-auto">

      <!-- Botón nueva reserva -->
      <div id="button-section" class="flex justify-end mb-4">
        <button id="new-reservation-btn"
          class="bg-blue-500 text-white px-4 py-2 rounded-lg text-sm font-medium flex items-center">
          <i class="fas fa-plus mr-2"></i>
          <span>Nueva Reserva</span>
        </button>
      </div>

      <!-- Lista de reservas -->
      <div id="reservations-section" class="space-y-4">
        <!-- Aquí el JS inyectará las tarjetas -->
      </div>


      <!-- Formulario de nueva reserva -->
      <div id="new-reservation-form" class="hidden p-4 mt-6 bg-gray-50 border border-gray-200 rounded-lg">

        <div class="flex justify-between items-center mb-4">
          <h2 class="font-bold text-lg text-gray-800">Nueva Reserva</h2>
          <button id="cancel-reservation-btn" class="text-blue-500 font-medium">Cancelar</button>
        </div>

        <h2 id="reservation-form-title" class="text-xl font-bold text-gray-800 mb-2">Nueva reserva</h2>


        <!-- Cliente -->
        <label class="block text-sm font-medium text-gray-700 mb-1">Cliente *</label>
        <input id="client-name" type="text" placeholder="Nombre del Cliente" class="w-full mb-1 p-2 border rounded-lg">
        <div id="client-error" class="hidden text-red-500 text-xs mb-4">Por favor ingrese un cliente.</div>

        <!-- Teléfono -->
        <label class="block text-sm font-medium text-gray-700 mb-1">Teléfono *</label>
        <input id="client-phone" type="tel" placeholder="1234-5678" class="w-full mb-1 p-2 border rounded-lg">
        <div id="phone-error" class="hidden text-red-500 text-xs mb-4">Por favor ingrese un teléfono.</div>

        <!-- Fecha -->
        <label class="block text-sm font-medium text-gray-700 mb-1">Fecha *</label>
        <input id="reservation-date" type="date" class="w-full mb-1 p-2 border rounded-lg">
        <div id="date-error" class="hidden text-red-500 text-xs mb-4">Por favor ingrese una fecha.</div>

        <!-- Hora inicio -->
        <label class="block text-sm font-medium text-gray-700 mb-1">Hora Inicio *</label>
        <div class="flex gap-2 mb-1">
          <input id="reservation-time-start" type="number" placeholder="Hora" class="w-full p-2 border rounded-lg">
          <select id="reservation-time-start-ampm" class="w-24 p-2 border rounded-lg">
            <option>AM</option>
            <option>PM</option>
          </select>
        </div>
        <div id="time-start-error" class="hidden text-red-500 text-xs mb-4">Por favor ingrese una hora de inicio.</div>

        <!-- Hora fin -->
        <label class="block text-sm font-medium text-gray-700 mb-1">Hora Fin *</label>
        <div class="flex gap-2 mb-1">
          <input id="reservation-time-end" type="number" placeholder="Hora" class="w-full p-2 border rounded-lg">
          <select id="reservation-time-end-ampm" class="w-24 p-2 border rounded-lg">
            <option>AM</option>
            <option>PM</option>
          </select>
        </div>
        <div id="time-end-error" class="hidden text-red-500 text-xs mb-4">Por favor ingrese una hora de fin.</div>

        <!-- Personas -->
        <label class="block text-sm font-medium text-gray-700 mb-1">Personas *</label>
        <input id="reservation-people" type="number" placeholder="Cantidad" class="w-full mb-1 p-2 border rounded-lg">
        <div id="people-error" class="hidden text-red-500 text-xs mb-4">Por favor ingrese la cantidad de personas.</div>

        <!-- Tipo de evento -->
        <label class="block text-sm font-medium text-gray-700 mb-1">Tipo de Evento *</label>
        <select id="reservation-event" class="w-full mb-1 p-2 border rounded-lg">
          <option value="">Seleccione...</option>
          <option>Boda</option>
          <option>Cumpleaños</option>
          <option>Reunión</option>
          <option>Otro</option>
        </select>
        <div id="event-error" class="hidden text-red-500 text-xs mb-4">Por favor seleccione un tipo de evento.</div>

        <!-- Comentarios -->
        <label class="block text-sm font-medium text-gray-700 mb-1">Comentarios</label>
        <textarea id="reservation-comment" placeholder="Escribe algún comentario adicional..."
          class="w-full mb-4 p-2 border rounded-lg resize-y"></textarea>

        <!-- BOTÓN DE SELECCIONAR MESAS -->
        <label class="block text-sm font-medium text-gray-700 mb-1">Mesas *</label>
        <button type="button" id="select-tables-btn"
          class="w-full border-2 border-dashed border-gray-300 rounded-lg py-3 mb-1 text-gray-500 hover:border-blue-500 hover:text-blue-500 transition">
          <i class="fas fa-chair mr-2"></i> Seleccionar Mesas
        </button>
        <div id="selected-tables-text" class="text-sm text-gray-600 mb-2"></div>
        <div id="tables-error" class="hidden text-red-500 text-xs mb-4">Por favor seleccione las mesas.</div>
        <!-- BOTÓN DE SELECCIONAR PLATILLOS -->
        <label class="block text-sm font-medium text-gray-700 mb-1">Platillos *</label>
        <button type="button" id="select-dishes-btn"
          class="w-full border-2 border-dashed border-gray-300 rounded-lg py-3 mb-1 text-gray-500 hover:border-green-500 hover:text-green-500 transition">
          <i class="fas fa-utensils mr-2"></i> Agregar Platillos
        </button>
        <div id="selected-dishes-text" class="text-sm text-gray-600 mb-2">Ningún platillo seleccionado.</div>
        <div id="dishes-error" class="hidden text-red-500 text-xs mb-4">Por favor seleccione al menos un platillo.</div>

        <!-- Botón Guardar -->
        <button id="save-reservation-btn"
          class="w-full bg-blue-500 text-white py-3 rounded-lg font-medium hover:bg-blue-600 transition mt-4">
          Guardar Reserva
        </button>

      </div>

    </main>

    <!-- BARRA INFERIOR TIPO WEB APP -->
    <nav class="fixed bottom-0 left-0 right-0 w-full bg-white border-t border-gray-200 flex justify-around py-3 px-2">
      <a href="index.html" class="flex flex-col items-center text-xs p-2 text-gray-500">
        <i class="fas fa-home text-lg mb-1"></i>
        <span>Inicio</span>
      </a>
      <a href="tables.html" class="flex flex-col items-center text-xs p-2 text-gray-500">
        <i class="fas fa-chair text-lg mb-1"></i>
        <span>Mesas</span>
      </a>
      <a href="orders.html" class="flex flex-col items-center text-xs p-2 text-gray-500">
        <i class="fas fa-clipboard-list text-lg mb-1"></i>
        <span>Pedidos</span>
      </a>
      <a href="reservations.html" class="flex flex-col items-center text-xs p-2 active-tab">
        <i class="fas fa-calendar-alt text-lg mb-1"></i>
        <span>Reservas</span>
      </a>
      <a href="menu.html" class="flex flex-col items-center text-xs p-2 text-gray-500">
        <i class="fas fa-utensils text-lg mb-1"></i>
        <span>Menú</span>
      </a>
    </nav>

  </div>

  <!-- MODAL SELECCIÓN MESAS -->
  <div id="tables-modal" class="fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50 hidden">
    <div class="bg-white rounded-xl shadow-lg p-4 max-w-xs w-full">
      <div class="flex justify-between items-center mb-4">
        <h2 class="font-semibold text-gray-800">Seleccionar Mesas</h2>
        <button id="close-tables-modal" class="text-gray-400 text-xl leading-none">&times;</button>
      </div>
      <div id="tables-grid" class="grid grid-cols-3 gap-2 mb-4"></div>
      <div class="flex justify-end space-x-2">
        <button id="cancel-tables-btn" class="px-3 py-1 text-sm border rounded-lg">Cancelar</button>
        <button id="save-tables-btn" class="px-3 py-1 text-sm bg-blue-500 text-white rounded-lg">Guardar</button>
      </div>
    </div>
  </div>

  <!-- MODAL SELECCIÓN PLATILLOS -->
  <div id="dishes-modal" class="fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50 hidden">
    <div class="bg-white rounded-xl shadow-lg p-4 max-w-md w-full">
      <div class="flex justify-between items-center mb-4">
        <h2 class="font-semibold text-gray-800">Seleccionar Platillos</h2>
        <button id="close-dishes-modal" class="text-gray-400 text-xl leading-none">&times;</button>
      </div>
      <div id="dishes-grid" class="grid grid-cols-2 gap-2 mb-4"></div>
      <div class="flex justify-end space-x-2">
        <button id="cancel-dishes-btn" class="px-3 py-1 text-sm border rounded-lg">Cancelar</button>
        <button id="save-dishes-btn" class="px-3 py-1 text-sm bg-green-500 text-white rounded-lg">Guardar</button>
      </div>
    </div>
  </div>

  <script type="module" src="js/controllers/reservaController.js"></script>
</body>

</html>